(this["webpackJsonpsinging-calculator"]=this["webpackJsonpsinging-calculator"]||[]).push([[0],{11:function(t){t.exports=JSON.parse('{"a":{"C0":16.35,"C#0":17.32,"Db0":17.32,"D0":18.35,"D#0":19.45,"Eb0":19.45,"E0":20.6,"F0":21.83,"F#0":23.12,"Gb0":23.12,"G0":24.5,"G#0":25.96,"Ab0":25.96,"A0":27.5,"A#0":29.14,"Bb0":29.14,"B0":30.87,"C1":32.7,"C#1":34.65,"Db1":34.65,"D1":36.71,"D#1":38.89,"Eb1":38.89,"E1":41.2,"F1":43.65,"F#1":46.25,"Gb1":46.25,"G1":49,"G#1":51.91,"Ab1":51.91,"A1":55,"A#1":58.27,"Bb1":58.27,"B1":61.74,"C2":65.41,"C#2":69.3,"Db2":69.3,"D2":73.42,"D#2":77.78,"Eb2":77.78,"E2":82.41,"F2":87.31,"F#2":92.5,"Gb2":92.5,"G2":98,"G#2":103.83,"Ab2":103.83,"A2":110,"A#2":116.54,"Bb2":116.54,"B2":123.47,"C3":130.81,"C#3":138.59,"Db3":138.59,"D3":146.83,"D#3":155.56,"Eb3":155.56,"E3":164.81,"F3":174.61,"F#3":185,"Gb3":185,"G3":196,"G#3":207.65,"Ab3":207.65,"A3":220,"A#3":233.08,"Bb3":233.08,"B3":246.94,"C4":261.63,"C#4":277.18,"Db4":277.18,"D4":293.66,"D#4":311.13,"Eb4":311.13,"E4":329.63,"F4":349.23,"F#4":369.99,"Gb4":369.99,"G4":392,"G#4":415.3,"Ab4":415.3,"A4":440,"A#4":466.16,"Bb4":466.16,"B4":493.88,"C5":523.25,"C#5":554.37,"Db5":554.37,"D5":587.33,"D#5":622.25,"Eb5":622.25,"E5":659.26,"F5":698.46,"F#5":739.99,"Gb5":739.99,"G5":783.99,"G#5":830.61,"Ab5":830.61,"A5":880,"A#5":932.33,"Bb5":932.33,"B5":987.77,"C6":1046.5,"C#6":1108.73,"Db6":1108.73,"D6":1174.66,"D#6":1244.51,"Eb6":1244.51,"E6":1318.51,"F6":1396.91,"F#6":1479.98,"Gb6":1479.98,"G6":1567.98,"G#6":1661.22,"Ab6":1661.22,"A6":1760,"A#6":1864.66,"Bb6":1864.66,"B6":1975.53,"C7":2093,"C#7":2217.46,"Db7":2217.46,"D7":2349.32,"D#7":2489.02,"Eb7":2489.02,"E7":2637.02,"F7":2793.83,"F#7":2959.96,"Gb7":2959.96,"G7":3135.96,"G#7":3322.44,"Ab7":3322.44,"A7":3520,"A#7":3729.31,"Bb7":3729.31,"B7":3951.07,"C8":4186.01}}')},16:function(t,e,r){},17:function(t,e,r){},22:function(t,e,r){},23:function(t,e,r){"use strict";r.r(e);var o=r(2),a=r.n(o),n=r(9),i=r.n(n),s=(r(16),r(17),r(1)),l=r(4),c=r(5),u=r(3),b=r(7),d=r(6),y=r(10),m=r.n(y),p=r(0),h=function(t){Object(b.a)(r,t);var e=Object(d.a)(r);function r(t){var o;return Object(l.a)(this,r),(o=e.call(this,t)).handleClick=o.handleClick.bind(Object(u.a)(o)),o.buttonDiv=a.a.createRef(),o.focusOnKeypress=o.focusOnKeypress.bind(Object(u.a)(o)),o.buttonBase="btn btn-lg w-100 py-1 fs-1",o}return Object(c.a)(r,[{key:"handleClick",value:function(){this.props.forClick(this.props.btnId)}},{key:"focusOnKeypress",value:function(){var t=this;this.buttonDiv.current.focus(),this.buttonDiv.current.className="".concat(this.buttonBase," ").concat(this.props.bootStyles," active");var e=void setTimeout((function(){t.buttonDiv.current.className="".concat(t.buttonBase," ").concat(t.props.bootStyles)}),100);return function(){clearTimeout(e)}}},{key:"render",value:function(){var t=this,e=this.props,r=e.btnId,o=e.displaySymbol,a=e.bootStyles,n=e.bootPos,i=e.formulaValue,s="="===i?[i,"enter"]:[i];return Object(p.jsx)("div",{className:"outer-button-div col \n                      ".concat(n),children:Object(p.jsxs)("div",{className:"".concat(this.buttonBase," ").concat(a),id:r,role:"button",value:o,onClick:this.handleClick,ref:this.buttonDiv,children:[Object(p.jsx)(m.a,{handleKeys:s,onKeyEvent:function(e,r){t.focusOnKeypress(),t.handleClick()}}),o]})})}}]),r}(a.a.Component),f=function(t){var e=t.currentNumber,r=t.displayValue,o=t.formulaArray,a=t.priorResult,n=t.priorString,i='list-inline-item text-wrap text-break"';return Object(p.jsxs)("div",{className:"text-end border px-3 mx-2 row",children:[Object(p.jsxs)("ul",{className:"list-inline col-12 fs-4",children:[""===e&&""===n&&"0"===r&&Object(p.jsx)("li",{className:"".concat(i," text-danger"),children:"0"},"initialState"),o.map((function(t,e){return"string"===typeof t|"number"===typeof t?Object(p.jsx)("li",{className:"".concat(i," text-danger"),children:t},e):Object(p.jsx)("li",{className:"".concat(i," text-secondary"),children:t.displaySymbol},e)})),""!==e&&Object(p.jsx)("li",{className:"".concat(i," text-danger"),children:e},"itsAlwaysTheCurrentNumber01"),a&&Object(p.jsx)("li",{className:"".concat(i," text-success"),children:"".concat(n," = ").concat(a)},"priorResultIfAny")]}),Object(p.jsx)("div",{className:"text-primary text-wrap col-12 text-break display-5",id:"display",children:r})]})},S=r(11),j=function(t){Object(b.a)(r,t);var e=Object(d.a)(r);function r(t){var o=t.props;return Object(l.a)(this,r),e.call(this,o)}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.compressor=this.audioContext.createDynamicsCompressor(),this.compressor.connect(this.audioContext.destination)}},{key:"componentDidUpdate",value:function(t){this.props.lastButton!==t&&""!==this.props.lastButton&&this.processButton(this.props.lastButton)}},{key:"componentWillUnmount",value:function(){this.audioContext.close()}},{key:"processButton",value:function(t){var e=this.audioContext.createOscillator();e.frequency.value=this.noteStringToFrequency(t.noteString),e.type="sine";var r=this.audioContext.createGain();r.gain.exponentialRampToValueAtTime(1e-4,this.audioContext.currentTime+1.8),e.connect(r),r.connect(this.compressor),e.start(this.audioContext.currentTime),e.stop(this.audioContext.currentTime+1.8)}},{key:"noteStringToFrequency",value:function(t){return S.a[t]}},{key:"render",value:function(){return null}}]),r}(a.a.Component),g=function(t){Object(b.a)(r,t);var e=Object(d.a)(r);function r(t){var o;return Object(l.a)(this,r),(o=e.call(this,t)).startingState={currentNumber:"",displayValue:"0",formulaArray:[],priorResult:"",priorString:"",lastButton:""},o.buttonsMap=[{id:"seven",displaySymbol:"7",formulaValue:"7",category:"numeral",bootStyles:"btn-outline-primary col",bootPos:"order-2 col-4",noteString:"C4"},{id:"eight",displaySymbol:"8",formulaValue:"8",category:"numeral",bootStyles:"btn-outline-primary col",bootPos:"order-2 col-4",noteString:"C#4"},{id:"nine",displaySymbol:"9",formulaValue:"9",category:"numeral",bootStyles:"btn-outline-primary col",bootPos:"order-2 col-4",noteString:"D4"},{id:"four",displaySymbol:"4",formulaValue:"4",category:"numeral",bootStyles:"btn-outline-primary col",bootPos:"order-2 col-4",noteString:"D5"},{id:"five",displaySymbol:"5",formulaValue:"5",category:"numeral",bootStyles:"btn-outline-primary col",bootPos:"order-2 col-4",noteString:"D#4"},{id:"six",displaySymbol:"6",formulaValue:"6",category:"numeral",bootStyles:"btn-outline-primary col",bootPos:"order-2 col-4",noteString:"E4"},{id:"one",displaySymbol:"1",formulaValue:"1",category:"numeral",bootStyles:"btn-outline-primary",bootPos:"order-2 col-4",noteString:"E5"},{id:"two",displaySymbol:"2",formulaValue:"2",category:"numeral",bootStyles:"btn-outline-primary",bootPos:"order-2 col-4",noteString:"F4"},{id:"three",displaySymbol:"3",formulaValue:"3",category:"numeral",bootStyles:"btn-outline-primary",bootPos:"order-2 col-4",noteString:"F#4"},{id:"zero",displaySymbol:"0",formulaValue:"0",category:"numeral",bootStyles:"btn-outline-primary",bootPos:"order-2 col-6",noteString:"G4"},{id:"decimal",displaySymbol:".",formulaValue:".",category:"action",bootStyles:"btn-outline-secondary",bootPos:"order-3 col-2",noteString:"G5"},{id:"add",displaySymbol:"+",formulaValue:"+",category:"operator",bootStyles:"btn-outline-secondary",bootPos:"col-6",noteString:"G#3"},{id:"subtract",displaySymbol:"-",formulaValue:"-",category:"operator",bootStyles:"btn-outline-secondary",bootPos:"col-6",noteString:"A3"},{id:"multiply",displaySymbol:"x",formulaValue:"*",category:"operator",bootStyles:"btn-outline-secondary",bootPos:"col-6",noteString:"A4"},{id:"divide",displaySymbol:"\xf7",formulaValue:"/",category:"operator",bootStyles:"btn-outline-secondary",bootPos:"col-6",noteString:"A#3"},{id:"equals",displaySymbol:"=",formulaValue:"=",category:"action",bootStyles:"btn-secondary",bootPos:"col-4 order-last",noteString:"C4"},{id:"clear",displaySymbol:"C",formulaValue:"c",category:"action",bootStyles:"btn-warning",bootPos:"order-first col-12",noteString:"B3"}],o.state={currentNumber:"",displayValue:"0",formulaArray:[],priorResult:"",priorString:"",lastButton:""},o.forClick=o.forClick.bind(Object(u.a)(o)),o.handleNumeral=o.handleNumeral.bind(Object(u.a)(o)),o.handleOperator=o.handleOperator.bind(Object(u.a)(o)),o.handleAction=o.handleAction.bind(Object(u.a)(o)),o.handleEquals=o.handleEquals.bind(Object(u.a)(o)),o}return Object(c.a)(r,[{key:"forClick",value:function(t){var e=this.buttonsMap.find((function(e){return e.id===t}));switch(this.setState({lastButton:e}),e.category){case"numeral":this.handleNumeral(e);break;case"operator":this.handleOperator(e);break;case"action":this.handleAction(e)}}},{key:"handleNumeral",value:function(t){0===this.state.formulaArray.length&&""!==this.state.priorResult&&this.setState({priorResult:"",priorString:""}),"0"===this.state.currentNumber|""===this.state.currentNumber?this.setState({currentNumber:t.formulaValue,displayValue:t.formulaValue}):this.setState({currentNumber:this.state.currentNumber+t.formulaValue,displayValue:this.state.currentNumber+t.formulaValue})}},{key:"handleOperator",value:function(t){0===this.state.formulaArray.length&&""===this.state.currentNumber?""===this.state.priorResult?this.setState({displayValue:t.displaySymbol,formulaArray:["0",t]}):""!==this.state.priorResult&&this.setState({displayValue:t.displaySymbol,formulaArray:[this.state.priorResult,t],priorResult:"",priorString:""}):""===this.state.currentNumber?this.setState({displayValue:t.displaySymbol,formulaArray:[].concat(Object(s.a)(this.state.formulaArray),[t])}):(this.setState({displayValue:t.displaySymbol,formulaArray:[].concat(Object(s.a)(this.state.formulaArray),[this.state.currentNumber,t])}),this.setState({currentNumber:""}))}},{key:"handleEquals",value:function(){var t=""===this.state.currentNumber?[].concat(Object(s.a)(this.state.formulaArray),["0"]):[].concat(Object(s.a)(this.state.formulaArray),[this.state.currentNumber]),e=Object(s.a)(t).reduce((function(t,e,r,o){var a=0;if(r>0&&(a=t.length-1),"number"===typeof e)return[].concat(Object(s.a)(t),[e]);if("string"===typeof e){var n=Number(e);return[].concat(Object(s.a)(t),[n])}if("object"==typeof e){if(r===o.length-1)return Object(s.a)(t);if("object"===typeof t[a]){if("subtract"===e.id&&"string"===typeof o[r+1])return[].concat(Object(s.a)(t),[e]);var i=t.slice(0,a);return[].concat(Object(s.a)(i),[e])}return[].concat(Object(s.a)(t),[e])}return console.log("We're ignoring this value in opFilteredArray, which isn't a string, number, or object: ".concat(e)),Object(s.a)(t)}),[]),r=Object(s.a)(e).reduce((function(t,e){switch(typeof e){case"number":return"".concat(t," ").concat(e);case"object":return"".concat(t," ").concat(e.formulaValue);default:throw"unexpected element in opFilteredArray"}}),"");var o=Function("'use strict'; return (".concat(r,")"))();this.setState({currentNumber:"",displayValue:"".concat(o),formulaArray:[],priorResult:"".concat(o),priorString:r})}},{key:"handleAction",value:function(t){switch(t.id){case"decimal":if(""===this.state.currentNumber){this.setState({currentNumber:"0.",displayValue:"0."});break}if(new RegExp(/\./,"i").test(this.state.currentNumber))return;this.setState({currentNumber:this.state.currentNumber+t.formulaValue,displayValue:this.state.currentNumber+t.formulaValue});break;case"clear":this.setState(this.startingState);break;case"equals":this.handleEquals();break;default:throw"unexpected actionHandled for ".concat(t.id)}}},{key:"render",value:function(){var t=this;return Object(p.jsxs)("div",{className:"calc-container",children:[Object(p.jsx)(j,{lastButton:this.state.lastButton}),Object(p.jsx)(f,{currentNumber:this.state.currentNumber,displayValue:this.state.displayValue,formulaArray:this.state.formulaArray,priorResult:this.state.priorResult,priorString:this.state.priorString}),Object(p.jsx)("div",{className:"row row-cols-4 g-1 mx-2 my-2 justify-content-md-center",children:this.buttonsMap.map((function(e){return Object(p.jsx)(h,{btnId:e.id,displaySymbol:e.displaySymbol,forClick:t.forClick,bootStyles:e.bootStyles,bootPos:e.bootPos,formulaValue:e.formulaValue},e.id)}))})]})}}]),r}(a.a.Component);var O=function(){return Object(p.jsxs)("div",{className:"App container-sm",children:[Object(p.jsx)("header",{className:"App-header",children:Object(p.jsx)("h1",{className:"display-6",children:"Singing Calculator"})}),Object(p.jsx)(g,{}),Object(p.jsx)("p",{children:"Uses React, Bootstrap 5, and the Web Audio API to create oscillator effects on the fly."})]})},v=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,24)).then((function(e){var r=e.getCLS,o=e.getFID,a=e.getFCP,n=e.getLCP,i=e.getTTFB;r(t),o(t),a(t),n(t),i(t)}))};r(22);i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(O,{})}),document.getElementById("root")),v()}},[[23,1,2]]]);
//# sourceMappingURL=main.cf846d4f.chunk.js.map